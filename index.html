<!DOCTYPE html>

<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charse='UTF-8'>
    </head>
    <header>Rock Paper Scissors!</header>

    <script>
        function computerPlay() {
            let choices = ['rock', 'paper', 'scissors'];
            return choices[Math.floor(Math.random()*choices.length)];
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection.toLowerCase() === computerSelection) {
                return `It\'s a tie! ${playerSelection} = ${computerSelection}`;
            } else if (playerSelection.toLowerCase() === 'rock' && computerSelection === 'scissors') {
                return `Round won! ${playerSelection} beats ${computerSelection}`;
            } else if (playerSelection.toLowerCase() === 'paper' && computerSelection === 'rock') {
                return `Round won! ${playerSelection} beats ${computerSelection}`;
            } else if (playerSelection.toLowerCase() === 'scissors' && computerSelection === 'paper') {
                return `Round won! ${playerSelection} beats ${computerSelection}`;
            } else {
                return `Round lost! ${computerSelection} beats ${playerSelection}`;
            }
        }

        function game() {
            let playerScore = 0;
            let computerScore = 0;
            let round = 0;
            
            while (round < 5) {
                let playerSelection = prompt('Choose Rock, Paper, or Scissors!');
                let computerSelection = computerPlay();

                let roundResult = playRound(playerSelection, computerSelection);
                console.log(roundResult)

                if (roundResult.includes('Round won!')) {
                    playerScore += 1;
                } else if (roundResult.includes('Round lost!')) {
                    computerScore += 1;
                }
                round ++;
            }
    

            if (playerScore > computerScore) {
                console.log(`You've won the game! Player Score: ${playerScore} Computer Score ${computerScore}`);
            } else if (playerScore === computerScore) {
                console.log(`Tie game! Player Score: ${playerScore} Computer Score ${computerScore}`)
            } else {
                console.log(`Better luck next time! Player Score: ${playerScore} Computer Score ${computerScore}`);
            }
        }
        
        game();
    </script>
</html>